window.__require=function t(i,e,n){function s(p,c){if(!e[p]){if(!i[p]){var h=p.split("/");if(h=h[h.length-1],!i[h]){var a="function"==typeof __require&&__require;if(!c&&a)return a(h,!0);if(o)return o(h,!0);throw new Error("Cannot find module '"+p+"'")}}var r=e[p]={exports:{}};i[p][0].call(r.exports,function(t){return s(i[p][1][t]||t)},r,r.exports,t,i,e,n)}return e[p].exports}for(var o="function"==typeof __require&&__require,p=0;p<n.length;p++)s(n[p]);return s}({ai_kongzhi:[function(t,i,e){"use strict";cc._RF.push(i,"1cba2M9/e1PBo/x8/Pq0gAa","ai_kongzhi");var n=t("ai_object");cc.Class({extends:n,properties:{},ship00:null,start:function(){this.ship00=this.getComponent("ship")},update:function(t){this.Ai_wuti.update(),null!=this.getComponent("ship").ship&&(this.node.position=this.getComponent("ship").ship.position,null==this.getComponent("ship").ship.getComponent("c_move").driver&&(this.getComponent("ship").ship.getComponent("c_move").driver=this.node),this.ship00.node.rotation=this.zhuanxiang,this.ship00.movesp(0,this.you_men))}}),cc._RF.pop()},{ai_object:"ai_object"}],ai_object:[function(t,i,e){"use strict";cc._RF.push(i,"4de3fEbMIFKWoT1Tqes43Qi","ai_object");var n=t("ai_xingwei");cc.Class({extends:cc.Component,properties:{wait_time:.2,ai_xingweibiao:{default:[],type:[n]},v2_speed:new cc.Vec2(0,0),timer:0},start:function(){},update:function(t){if(this.timer+=t,this.timer>this.wait_time)for(var i=0;i<this.ai_xingweibiao.length;i++)if(this.ai_xingweibiao[i].enabled){var e=this.v2_speed.x,n=this.v2_speed.y;e+=this.ai_xingweibiao[i].kongzhixiangliang().x,n+=this.ai_xingweibiao[i].kongzhixiangliang().y,this.v2_speed=cc.v2(e,n),this.timer=0}if(null!=this.getComponent("ship").ship&&(this.node.parent!=this.getComponent("ship").ship&&(this.node.position=this.getComponent("ship").ship.position),null==this.getComponent("ship").ship.getComponent("c_move").driver&&(this.getComponent("ship").ship.getComponent("c_move").driver=this.node)),this.v2_speed.mag()>.01){var s=this.v2_speed.signAngle(cc.v2(1,0));this.node.rotation=180*s/Math.PI-this.node.parent.rotation,this.getComponent("ship").movesp(0,"1")}else this.getComponent("ship").movesp(0,"0")}}),cc._RF.pop()},{ai_xingwei:"ai_xingwei"}],ai_xingwei:[function(t,i,e){"use strict";cc._RF.push(i,"97c66wiXUxCB4z0T7s1d8eB","ai_xingwei"),cc.Class({extends:cc.Component,properties:{aiwuti:{default:{},type:cc.Node},yuqi_speed:{default:null,type:cc.v2},weight:1},start:function(){},kongzhixiangliang:function(){return cc.v2(0,0)}}),cc._RF.pop()},{}],c_move:[function(t,i,e){"use strict";cc._RF.push(i,"ee634DyYUVMoIxVRogL6adv","c_move"),cc.Class({extends:cc.Component,properties:{speed:0,engine_on:0,lizi:{default:null,type:cc.ParticleSystem},driver:{default:null,type:cc.Node},turnspeed:1,highlight:{default:null,type:cc.Node},fasheqi:{default:[],type:cc.Node},open_fire:!1,is_playership:!1},speedup:0,ds:0,onLoad:function(){},start:function(){},update:function(t){var i=this.node.getComponent(cc.RigidBody).getMass();this.speedup<this.speed*this.engine_on?this.speedup+=1/i:this.speedup=this.node.getComponent(cc.RigidBody).linearVelocity.mag();var e=Math.cos(this.node.rotation*Math.PI/180)*this.speedup,n=-Math.sin(this.node.rotation*Math.PI/180)*this.speedup;if(0!=this.engine_on?(this.lizi.gravity.y=this.speedup/(1+this.speed)*2e3+100,this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2({x:e,y:n})):this.lizi.gravity.y<=0?this.lizi.gravity.y=0:this.lizi.gravity.y-=30,this.node.x>1900&&(this.node.x=-1900),this.node.x<-1900&&(this.node.x=1900),this.node.y>1900&&(this.node.y=-1900),this.node.y<-1900&&(this.node.y=1900),null!=this.driver){var s=cc.v2(Math.cos(this.node.rotation*Math.PI/180),-Math.sin(this.node.rotation*Math.PI/180)),o=cc.v2(Math.cos(this.driver.getComponent("ship").dr_rot*Math.PI/180),-Math.sin(this.driver.getComponent("ship").dr_rot*Math.PI/180));this.ds=o.signAngle(s),this.lizi.gravity.x=-550*this.ds*this.turnspeed,this.node.rotation+=this.ds*this.turnspeed,this.driver.getComponent("ship").ship!=this.node&&(this.highlight.opacity=0,this.driver=null)}else this.engine_on=0,this.lizi.gravity.x=0,this.highlight.opacity=0,this.open_fire=!1;if(this.open_fire)for(var p=0;p<this.fasheqi.length;p++)null!=this.fasheqi[p]&&0==this.fasheqi[p].active&&(this.fasheqi[p].active=!0);else for(p=0;p<this.fasheqi.length;p++)null!=this.fasheqi[p]&&1==this.fasheqi[p].active&&(this.fasheqi[p].active=!1);0==this.is_playership?(this.node.getChildByName("test_ai0").active=!0,this.driver!=this.node.getChildByName("test_ai0")&&(this.driver=this.node.getChildByName("test_ai0"))):(this.node.getChildByName("test_ai0").active=!1,this.driver==this.node.getChildByName("test_ai0")&&(this.driver=null))}}),cc._RF.pop()},{}],caidan:[function(t,i,e){"use strict";cc._RF.push(i,"45f60O7MklCU4Qyxq+VCnHh","caidan"),cc.Class({extends:cc.Component,properties:{bianhao:{default:[],type:cc.Node},playership:{default:null,type:cc.Node},dr:{default:null,type:cc.Node}},start:function(){},update:function(t){for(var i=0;i<this.bianhao.length;i++){var e=this.bianhao[i].getChildByName("fornk").getComponent(cc.Sprite);if(null!=this.playership.getComponent("playership").playership[i]){var n=this.playership.getComponent("playership").playership[i].getChildByName("icon").getComponent(cc.Sprite),s=this.playership.getComponent("playership").int;e.spriteFrame=n.spriteFrame,this.bianhao[i].getChildByName("back").opacity=s==i?255:80}else e.spriteFrame=null,e=this.bianhao[i].getChildByName("back").opacity=80}}}),cc._RF.pop()},{}],dri_scr:[function(t,i,e){"use strict";cc._RF.push(i,"0c2bdK0j7RPm7IOZmONS8jJ","dri_scr"),cc.Class({extends:cc.Component,properties:{sp0:{default:null,type:cc.Node}},kkb:0,onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.tm,this),this.node.on(cc.Node.EventType.TOUCH_START,function(t){this.kkb=3},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){this.kkb=-3},this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){this.kkb=-3},this)},tm:function(t){this.kkb=3;var i=null,e=this.node.convertToWorldSpaceAR(cc.v2(0,0)),n=t.getLocation().sub(e).signAngle(cc.v2(1,0));i=n>=0?n/Math.PI*180:360+n/Math.PI*180,this.node.rotation=i},start:function(){},kaihuo:function(){null!=this.getComponent("ship").ship&&(0==this.getComponent("ship").ship.getComponent("c_move").open_fire?this.getComponent("ship").ship.getComponent("c_move").open_fire=!0:this.getComponent("ship").ship.getComponent("c_move").open_fire=!1)},update:function(t){this.sp0.opacity=cc.v2(this.sp0.opacity,0).clampf(cc.v2(90,0),cc.v2(200,0)).x,this.sp0.opacity+=this.kkb,null!=this.getComponent("ship").ship&&this.getComponent("ship").ship.getComponent("c_move").driver!=this.node&&(this.getComponent("ship").ship.getComponent("c_move").driver=this.node,this.getComponent("ship").ship.getComponent("c_move").highlight.opacity=80)}}),cc._RF.pop()},{}],fashe:[function(t,i,e){"use strict";cc._RF.push(i,"f8c39wKWZFC5bEb9WaMELER","fashe"),cc.Class({extends:cc.Component,properties:{zidan:{default:null,type:cc.Prefab},jiange:.3},onLoad:function(){this.schedule(function(){if(null!=this.zidan){var t=cc.instantiate(this.zidan);t.parent=this.node.parent,t.position=this.node.position}},this.jiange)},start:function(){}}),cc._RF.pop()},{}],icon_toch:[function(t,i,e){"use strict";cc._RF.push(i,"e7backU6pRKAJHQtOh05Kok","icon_toch"),cc.Class({extends:cc.Component,properties:{id:0},start:function(){}}),cc._RF.pop()},{}],jiejin:[function(t,i,e){"use strict";cc._RF.push(i,"c2e2bTPN9xCYIR1SSXTLFWb","jiejin");var n=t("ai_xingwei");cc.Class({extends:n,properties:{tag:{default:null,type:cc.Node}},start:function(){(new n).start()},kongzhixiangliang:function(){if(null!=this.tag){var t=this.node.convertToWorldSpaceAR(cc.v2(0,0)),i=this.tag.convertToWorldSpaceAR(cc.v2(0,0));this.yuqi_speed=i.sub(t);var e=this.aiwuti.getComponent("ai_object").v2_speed;return this.yuqi_speed.sub(e)}return cc.v2(0,0)}}),cc._RF.pop()},{ai_xingwei:"ai_xingwei"}],movetolook:[function(t,i,e){"use strict";cc._RF.push(i,"7199cfKvVRJbI9RTd17yTgg","movetolook"),cc.Class({extends:cc.Component,properties:{speed:0,life:1,shengyin:{default:null,type:cc.AudioClip}},onLoad:function(){var t=this.node.convertToWorldSpaceAR(cc.v2(0,0)),i=this.node.convertToWorldSpaceAR(cc.v2(1*this.speed,0));cc.audioEngine.play(this.shengyin,!1,.5),this.node.getComponent(cc.RigidBody).linearVelocity=i.sub(t),this.scheduleOnce(function(){this.node.destroy()},this.life)},start:function(){}}),cc._RF.pop()},{}],play_shipAI:[function(t,i,e){"use strict";cc._RF.push(i,"f7e0aZwR1hLsaIyU+S3W4S6","play_shipAI"),cc.Class({extends:cc.Component,properties:{dr:{default:null,type:cc.Node},ai00:{default:[],type:cc.Node},ps:{default:null,type:cc.Node}},start:function(){},update:function(t){for(var i=0;i<this.ai00.length;i++){var e=this.dr.getComponent("ship").ship;this.ps.getComponent("playership").playership[i]!=e?(null!=this.ps.getComponent("playership").playership[i]&&(this.ai00[i].getComponent("simpleai").tag=e),this.ai00[i].getComponent("ship").ship=this.ps.getComponent("playership").playership[i]):(this.ai00[i].getComponent("ship").ship=null,this.ai00[i].getComponent("simpleai").tag=null)}}}),cc._RF.pop()},{}],playership:[function(t,i,e){"use strict";cc._RF.push(i,"70e393G4sRHr4/TkCDMm/vc","playership"),cc.Class({extends:cc.Component,properties:{gameship:{default:[],type:cc.Prefab},playership:{default:[],type:cc.Node},playerdir:{default:null,type:cc.Node},int:0},onLoad:function(){this.playerdir.getComponent("ship").ship=this.playership[this.int]},start:function(){},change_sp:function(t,i){this.int=i,this.playerdir.getComponent("ship").ship=this.playership[Number(i)],null!=this.playership[Number(i)]&&(this.playerdir.rotation=this.playership[Number(i)].rotation)},add_player_ship:function(t,i){for(var e=0;e<this.playership.length;e++)if(null==this.playership[e]){var n=cc.instantiate(this.gameship[Number(i)]);n.getComponent("c_move").is_playership=!0,this.playership[e]=n,n.parent=this.node.parent.getComponent("wuli").game_cav,n.position=cc.v2(0,0),e=this.playership.length}},update:function(t){this.playerdir.getComponent("ship").ship=this.playership[this.int];for(var i=1;i<this.playership.length;i++)null==this.playership[i-1]&&(this.playership[i-1]=this.playership[i],this.playership[i]=null)}}),cc._RF.pop()},{}],ship:[function(t,i,e){"use strict";cc._RF.push(i,"b69eaUQe6tDOY/yzpPlLEjI","ship"),cc.Class({extends:cc.Component,properties:{ship:{default:null,type:cc.Node},dr_rot:0},movesp:function(t,i){null!=this.ship&&(this.ship.getComponent("c_move").engine_on=Number(i))},start:function(){},update:function(t){null!=this.ship&&(this.node.parent==this.ship?this.dr_rot=this.node.rotation+this.ship.rotation:this.dr_rot=this.node.rotation)}}),cc._RF.pop()},{}],simpleai:[function(t,i,e){"use strict";cc._RF.push(i,"24d38B1BZVFwb86UBAWFszo","simpleai"),cc.Class({extends:cc.Component,properties:{tag:{default:null,type:cc.Node}},onLoad:function(){},start:function(){},update:function(t){if(null!=this.getComponent("ship").ship&&(this.node.parent!=this.getComponent("ship").ship&&(this.node.position=this.getComponent("ship").ship.position),null==this.getComponent("ship").ship.getComponent("c_move").driver&&(this.getComponent("ship").ship.getComponent("c_move").driver=this.node)),null!=this.tag){var i=this.node.convertToWorldSpaceAR(cc.v2(0,0)),e=this.tag.convertToWorldSpaceAR(cc.v2(0,0)),n=e.sub(i).signAngle(cc.v2(1,0));this.node.rotation=180*n/Math.PI-this.node.parent.rotation,e.sub(i).mag()>250?this.getComponent("ship").movesp(0,"1"):this.getComponent("ship").movesp(0,"0")}}}),cc._RF.pop()},{}],wuli:[function(t,i,e){"use strict";cc._RF.push(i,"c7ba3vaTnhFcZUFuDA0zXrk","wuli"),cc.Class({extends:cc.Component,properties:{game_cav:{default:null,type:cc.Node},menu_cav:{default:null,type:cc.Node}},onLoad:function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2()},start:function(){},zhanting:function(){1!=cc.director.isPaused()?cc.director.pause():cc.director.resume()},in_menu:function(){this.game_cav.active=!1,this.menu_cav.active=!0},out_menu:function(){this.game_cav.active=!0,this.menu_cav.active=!1}}),cc._RF.pop()},{}],yuanli:[function(t,i,e){"use strict";cc._RF.push(i,"4f58abh3HBCYY+2fA2iWeW+","yuanli");var n=t("ai_xingwei");cc.Class({extends:n,properties:{tag:{default:null,type:cc.Node},ganzhi_fanwei:20},start:function(){(new n).start()},kongzhixiangliang:function(){if(null!=this.tag){var t=this.node.convertToWorldSpaceAR(cc.v2(0,0)),i=this.tag.convertToWorldSpaceAR(cc.v2(0,0)),e=i.sub(t).mag();this.yuqi_speed=t.sub(i);var n=this.aiwuti.getComponent("ai_object").v2_speed;return e<this.ganzhi_fanwei?this.yuqi_speed.sub(n):cc.v2(0,0)}return cc.v2(0,0)}}),cc._RF.pop()},{ai_xingwei:"ai_xingwei"}],zoom_cam:[function(t,i,e){"use strict";cc._RF.push(i,"975a5T415VOk6AXNS9DY+0A","zoom_cam"),cc.Class({extends:cc.Component,properties:{tag:{default:null,type:cc.Node}},start:function(){},tagrota:null,ca_zoom:function(t,i){this.tagrota=this.node.getComponent(cc.Camera).zoomRatio+Number(i)},update:function(t){null!=this.tag.getComponent("ship").ship&&(this.node.position=this.tag.getComponent("ship").ship.position);var i=cc.v2({x:this.node.getComponent(cc.Camera).zoomRatio,y:0});null!=this.tagrota&&(this.node.getComponent(cc.Camera).zoomRatio=i.lerp(cc.v2(this.tagrota,0).clampf(cc.v2(.5,0),cc.v2(1.5,0)),t).x)}}),cc._RF.pop()},{}]},{},["ai_kongzhi","ai_object","ai_xingwei","jiejin","play_shipAI","simpleai","yuanli","c_move","caidan","dri_scr","fashe","icon_toch","movetolook","playership","ship","wuli","zoom_cam"]);